<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Manual · Dispatcher.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.5.0/styles/default.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Ubuntu+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="../assets/documenter.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../assets/documenter.js"></script><script src="../../versions.js"></script><link href="../assets/invenia.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>Dispatcher.jl</h1><form class="search" action="../search.html"><select id="version-selector" onChange="window.location.href=this.value"><option value="#" selected="selected" disabled="disabled">Version</option></select><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../index.html">Home</a></li><li class="current"><a class="toctext" href="manual.html">Manual</a><ul class="internal"><li><a class="toctext" href="#Motivation-1">Motivation</a></li><li><a class="toctext" href="#Design-1">Design</a></li></ul></li><li><a class="toctext" href="api.html">API</a></li></ul></nav><article id="docs"><header><nav><ul><li><a href="manual.html">Manual</a></li></ul><a class="edit-page" href="https://github.com/invenia/Dispatcher.jl/tree/99da01c8012c67d8a8fa24b98a170c265d6c82ee/docs/src/pages/manual.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/></header><h1><a class="nav-anchor" id="Manual-1" href="#Manual-1">Manual</a></h1><h2><a class="nav-anchor" id="Motivation-1" href="#Motivation-1">Motivation</a></h2><p><code>Dispatcher.jl</code> is designed to distribute and manage execution of a graph of computations. These computations are specified in a manner as close to regular imperative Julia code as possible. Using a parallel executor with several processes, a central controller manages execution, but data is transported only among processes which will use it. This avoids having one large process where all data currently being used is stored.</p><h3><a class="nav-anchor" id="FAQ-1" href="#FAQ-1">FAQ</a></h3><blockquote><p>How is Dispatcher different from ComputeFramework/Dagger?</p></blockquote><p>Dagger is built around distributing vectorized computations across large arrays. Dispatcher is built to deal with discrete, heterogeneous data using any Julia functions.</p><blockquote><p>How is Dispatcher different from Arbiter?</p></blockquote><p>Arbiter requires manually adding tasks and their dependencies and handling data passing. Dispatcher automatically identifies dependencies from user code and passes data efficiently between dependencies.</p><blockquote><p>How does Dispatcher handle passing data?</p></blockquote><p>Dispatcher uses Julia <code>RemoteChannel</code>s to pass data between dispatched <code>DispatchNode</code>s. For more information on how data transfer works with Julia&#39;s parallel tools see their <a href="http://docs.julialang.org/en/latest/manual/parallel-computing/">documentation</a>.</p><h2><a class="nav-anchor" id="Design-1" href="#Design-1">Design</a></h2><h3><a class="nav-anchor" id="Overview-1" href="#Overview-1">Overview</a></h3><p>Using Dispatcher, a <code>DispatchContext</code> maintains a computation graph of <code>DispatchNode</code>s. <code>DispatchNode</code>s represent units of computation that can be run. The most common <code>DispatchNode</code> is <code>Op</code>, which represents a function call on some arguments. Some of those arguments may exist when building the graph, and others may represent the results of other <code>DispatchNode</code>s. An <code>Executor</code> executes a whole <code>DispatchContext</code>. Two <code>Executor</code>s are provided. <code>AsyncExecutor</code> executes computations asynchronously using Julia <code>Task</code>s. <code>ParallelExecutor</code> executes computations in parallel using all available Julia processes (by calling <code>@spawn</code>).</p><p>Here is an example defining and executing a graph:</p><pre><code class="language-julia"></code></pre><p>The components of this example will be discussed below.</p><h3><a class="nav-anchor" id="Dispatch-Nodes-1" href="#Dispatch-Nodes-1">Dispatch Nodes</a></h3><p>A <code>DispatchNode</code> generally represents a unit of computation that can be run. <code>DispatchNode</code>s are constructed when defining the graph and are run as part of graph execution. The <code>@node</code> macro takes a <code>DispatchNode</code> instance and adds it to the graph in the current context. The following code, where <code>Feature &lt;: DispatchNode</code>:</p><pre><code class="language-julia"></code></pre><p>is equivalent to:</p><pre><code class="language-julia"></code></pre><p>where <code>ctx</code> is the current dispatch context.</p><h3><a class="nav-anchor" id="Op-1" href="#Op-1">Op</a></h3><p>An <code>Op</code> is a <code>DispatchNode</code> which represents some function call to be run as part of graph execution. This is the most common type of <code>DispatchNode</code>. The <code>@op</code> applies an extra transformation on top of the <code>@node</code> macro and deconstructs a function call to add to the graph. The following code:</p><pre><code class="language-julia"></code></pre><p>is equivalent to:</p><pre><code class="language-julia"></code></pre><p>where <code>ctx</code> is the current dispatch context. Note that code in the argument list gets evaluated immediately; only the function call is delayed.</p><h3><a class="nav-anchor" id="Dispatch-Context-and-Dispatch-Graph-1" href="#Dispatch-Context-and-Dispatch-Graph-1">Dispatch Context and Dispatch Graph</a></h3><p>The above macros add nodes to a <code>DispatchContext</code>. The <code>DispatchContext</code> contains a <code>DispatchGraph</code>, which stores nodes and dependencies in a graph. Any arguments to <code>DispatchNode</code> constructors (including in <code>@node</code> and <code>@op</code>) which are <code>DispatchNode</code>s are recorded as dependencies in the graph.</p><h3><a class="nav-anchor" id="Executors-1" href="#Executors-1">Executors</a></h3><footer><hr/><a class="previous" href="../index.html"><span class="direction">Previous</span><span class="title">Home</span></a><a class="next" href="api.html"><span class="direction">Next</span><span class="title">API</span></a></footer></article></body></html>
